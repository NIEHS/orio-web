{% extends "base.html" %}

{% block extra_css %}
    <link rel="stylesheet" type="text/css" media="all"
          href="{{STATIC_URL}}css/visuals.css">
{% endblock extra_css %}



{% block mid_content %}
<div id='visual_panel_1'></div>
<div id='visual_panel_2'></div>
<div class="modal fade" id="flcModal" tabindex="-1" role="dialog">
    <div class="modal-dialog" role="document">
        <div class="modal-content">
            <div class="modal-header">
                <button type="button" class="close" data-dismiss="modal"><span>&times;</span></button>
                <h4 class="modal-title" id='ind_heatmap_modal_title'>Feature list name</h4>
            </div>
            <div class="modal-body" id='ind_heatmap_modal_body'></div>
        </div>
    </div>
</div>
{% endblock mid_content %}



{% block extra_js %}
<script type="text/javascript" src="//cdnjs.cloudflare.com/ajax/libs/underscore.js/1.8.3/underscore-min.js"></script>
<script type="text/javascript" src="{{STATIC_URL}}/js/individual_heatmap.js"></script>
<script type="text/javascript" src="{{STATIC_URL}}/js/individual_overview.js"></script>
<script type="text/javascript" src="{{STATIC_URL}}/js/analysis_overview.js"></script>
<script>
    $(document).ready(function(){

        var urls = {
            summaryPlot: function(){
                return "{% url 'analysis:api:analysis-plot' object.id %}";
            },
            sortVector: function(){
                return "{% url 'analysis:api:analysis-sort-vector' object.id %}";
            },
        };

        $.get(urls.summaryPlot(), function(data){
            var overview = new AnalysisOverview($('#visual_panel_1'), data),
                individual_overview = new IndividualOverview($('#visual_panel_2'), data);
            overview.render();
            individual_overview.render();
        });

    });
</script>
{% endblock extra_js %}
